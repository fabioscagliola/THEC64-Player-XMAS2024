1000 PRINT CHR$(147)
1010 PRINT "xmas 2024"
1020 PRINT
1030 PRINT "laura and fabio wish you"
1040 PRINT "happy winter holidays"
1050 PRINT
1060 PRINT "have yourself a merry little christmas"
1070 PRINT "by hugh martin and ralph blane"
1080 PRINT

1090 REM **** PLAYER ****

1100 S = 54272
1110 FOR I = 0 TO 24 : POKE S + I, 0 : NEXT
1120 POKE S + 24, 15
1130 WF = 16
1140 A = 2 ^ (1 / 12)
1150 FOR I = 0 TO 2
1160 POKE S + 5 + 7 * I,  3 * 16 + 7
1170 POKE S + 6 + 7 * I, 10 * 16 + 9
1180 NEXT

1190 DIM PLAY(2)
1200 DIM FH(2)
1210 DIM FL(2)

1220 READ D, A$, B$, C$
1230 IF D = 0 THEN GOSUB 1640 : END
1240 V = 0
1250 X$ = A$
1260 GOSUB 1350
1270 V = 1
1280 X$ = B$
1290 GOSUB 1350
1300 V = 2
1310 X$ = C$
1320 GOSUB 1350
1330 GOSUB 1520
1340 GOTO 1220

1350 REM Init
1360 N$ = MID$(X$, 1, 1)
1370 S$ = MID$(X$, 2, 1)
1380 O = VAL(MID$(X$, 3, 1))
1390 N = 2 * (ASC(N$) - 65) - 1
1400 PLAY(V) = 1
1410 IF N$ = " " THEN RETURN
1420 IF N$ = "p" THEN FL(V) = 0 : FH(V) = 0 : PLAY(V) = 0 : RETURN
1430 IF N$ = "f" THEN N = N - 1 : GOTO 1470
1440 IF N$ = "g" THEN N = N - 1 : GOTO 1470
1450 IF N$ = "a" THEN N = 12 : GOTO 1470
1460 IF N$ = "b" THEN N = 14
1470 IF S$ = "#" THEN N = N + 1
1480 FS = INT((466 * A ^ N) * 2 ^ O)
1490 FH(V) = INT(FS / 256)
1500 FL(V) = FS - 256 * FH(V)
1510 RETURN

1520 REM Play or pause
1530 FOR I = 0 TO 2
1540 POKE S + 7 * I, FL(I)
1550 POKE S + 7 * I + 1, FH(I)
1560 POKE S + 7 * I + 4, WF + PLAY(I)
1570 NEXT
1580 IF D =  4 THEN C =    1 : GOTO 1610
1590 IF D =  8 THEN C =  300 : GOTO 1610
1600 IF D = 16 THEN C = 1100 : GOTO 1610
1610 PRINT A$, B$, C$
1620 FOR I = 0 TO C : NEXT
1630 RETURN

1640 REM Mute
1650 FOR I = 0 TO 2
1660 POKE S + 7 * I + 4, WF
1670 NEXT
1680 RETURN

1690 REM **** SONG DATA ****

1700 REM
1710 REM Duration
1720 REM
1730 REM  1     32
1740 REM  1/2.  24
1750 REM  1/2   16
1760 REM  1/4.  12
1770 REM  1/4    8
1780 REM  1/8.   6
1790 REM  1/8    4
1800 REM

1810 DATA  4, "c 2", "e 2", "p  "
1820 DATA  4, "   ", "   ", "   "
1830 DATA  4, "   ", "   ", "c 3"
1840 DATA  4, "   ", "   ", "e 3"
1850 DATA  4, "a 1", "p  ", "g 3"
1860 DATA  4, "   ", "   ", "   "
1870 DATA  4, "   ", "   ", "   "
1880 DATA  4, "   ", "   ", "c 4"

1890 DATA  4, "d 2", "   ", "g 3"
1900 DATA  4, "   ", "   ", "f 3"
1910 DATA  4, "   ", "   ", "e 3"
1920 DATA  4, "   ", "   ", "d 3"
1930 DATA  4, "g 1", "   ", "c 3"
1940 DATA  4, "   ", "   ", "   "
1950 DATA  4, "   ", "b 2", "d 3"
1960 DATA  4, "   ", "   ", "   "

1970 DATA  4, "c 2", "e 2", "p  "
1980 DATA  4, "   ", "   ", "   "
1990 DATA  4, "   ", "   ", "c 3"
2000 DATA  4, "   ", "   ", "e 3"
2010 DATA  4, "a 1", "p  ", "g 3"
2020 DATA  4, "   ", "   ", "   "
2030 DATA  4, "   ", "   ", "   "
2040 DATA  4, "   ", "   ", "c 4"

2050 DATA  4, "d 2", "   ", "g 3"
2060 DATA  4, "   ", "   ", "   "
2070 DATA  4, "a 1", "   ", "   "
2080 DATA  4, "   ", "   ", "   "
2090 DATA  4, "g 1", "   ", "   "
2100 DATA  4, "   ", "   ", "   "
2110 DATA  4, "   ", "   ", "f 3"
2120 DATA  4, "   ", "   ", "   "

2130 DATA  4, "c 2", "   ", "e 3"
2140 DATA  4, "   ", "   ", "   "
2150 DATA  4, "b 1", "   ", "g 3"
2160 DATA  4, "   ", "   ", "   "
2170 DATA  4, "a 1", "   ", "c 4"
2180 DATA  4, "   ", "   ", "   "
2190 DATA  4, "   ", "   ", "e 4"
2200 DATA  4, "   ", "   ", "   "

2210 DATA  4, "d 2", "f 2", "d 4"
2220 DATA  4, "   ", "   ", "c 4"
2230 DATA  4, "   ", "   ", "b 3"
2240 DATA  4, "   ", "   ", "a 3"
2250 DATA  4, "g 1", "p  ", "g 3"
2260 DATA  4, "   ", "   ", "   "
2270 DATA  4, "   ", "   ", "f 3"
2280 DATA  4, "   ", "   ", "   "

2290 DATA  4, "g#1", "e 2", "e 3"
2300 DATA  4, "   ", "   ", "   "
2310 DATA  4, "   ", "   ", "   "
2320 DATA  4, "   ", "   ", "   "
2330 DATA  4, "a 1", "c#2", "   "
2340 DATA  4, "   ", "   ", "   "
2350 DATA  4, "   ", "   ", "   "
2360 DATA  4, "   ", "   ", "   "

2370 DATA  4, "d 2", "p  ", "   "
2380 DATA  4, "   ", "   ", "   "
2390 DATA  4, "a 1", "   ", "   "
2400 DATA  4, "   ", "   ", "p  "
2410 DATA  4, "g 1", "   ", "   "
2420 DATA  4, "   ", "   ", "   "
2430 DATA  4, "   ", "g#2", "b 2"
2440 DATA  4, "   ", "   ", "   "

2450 DATA  4, "c 2", "e 2", "p  "
2460 DATA  4, "   ", "   ", "   "
2470 DATA  4, "   ", "   ", "c 3"
2480 DATA  4, "   ", "   ", "e 3"
2490 DATA  4, "a 1", "p  ", "g 3"
2500 DATA  4, "   ", "   ", "   "
2510 DATA  4, "   ", "   ", "   "
2520 DATA  4, "   ", "   ", "c 4"

2530 DATA  4, "d 2", "   ", "g 3"
2540 DATA  4, "   ", "   ", "f 3"
2550 DATA  4, "   ", "   ", "e 3"
2560 DATA  4, "   ", "   ", "d 3"
2570 DATA  4, "g 1", "   ", "c 3"
2580 DATA  4, "   ", "   ", "   "
2590 DATA  4, "   ", "b 2", "d 3"
2600 DATA  4, "   ", "   ", "   "

2610 DATA  4, "c 2", "e 2", "p  "
2620 DATA  4, "   ", "   ", "   "
2630 DATA  4, "   ", "   ", "c 3"
2640 DATA  4, "   ", "   ", "e 3"
2650 DATA  4, "a 1", "p  ", "g 3"
2660 DATA  4, "   ", "   ", "   "
2670 DATA  4, "   ", "   ", "   "
2680 DATA  4, "   ", "   ", "c 4"

2690 DATA  4, "d 2", "   ", "g 3"
2700 DATA  4, "   ", "   ", "   "
2710 DATA  4, "g#1", "   ", "   "
2720 DATA  4, "   ", "   ", "   "
2730 DATA  4, "g 1", "   ", "   "
2740 DATA  4, "   ", "   ", "   "
2750 DATA  4, "b 1", "   ", "   "
2760 DATA  4, "   ", "   ", "   "

2770 DATA  4, "c 2", "   ", "e 3"
2780 DATA  4, "   ", "   ", "   "
2790 DATA  4, "b 1", "d 2", "g 3"
2800 DATA  4, "   ", "   ", "   "
2810 DATA  4, "a 1", "e 2", "c 4"
2820 DATA  4, "   ", "   ", "   "
2830 DATA  4, "   ", "   ", "e 4"
2840 DATA  4, "   ", "   ", "   "

2850 DATA  4, "d 2", "f 2", "d 4"
2860 DATA  4, "   ", "   ", "c 4"
2870 DATA  4, "   ", "   ", "b 3"
2880 DATA  4, "   ", "   ", "a 3"
2890 DATA  4, "e 2", "p  ", "g#3"
2900 DATA  4, "   ", "   ", "   "
2910 DATA  4, "   ", "   ", "b 3"
2920 DATA  4, "   ", "   ", "   "

2930 DATA  4, "a 1", "   ", "c 4"
2940 DATA  4, "   ", "   ", "   "
2950 DATA  4, "e 2", "   ", "   "
2960 DATA  4, "   ", "   ", "   "
2970 DATA  4, "b 2", "   ", "   "
2980 DATA  4, "   ", "   ", "   "
2990 DATA  4, "a 2", "   ", "   "
3000 DATA  4, "   ", "   ", "   "

3010 DATA  4, "e 2", "g#2", "   "
3020 DATA  4, "   ", "   ", "   "
3030 DATA  4, "   ", "   ", "   "
3040 DATA  4, "   ", "   ", "   "
3050 DATA  4, "a 2", "p  ", "   "
3060 DATA  4, "   ", "   ", "   "
3070 DATA  4, "b 2", "   ", "   "
3080 DATA  4, "   ", "   ", "   "

3090 DATA  4, "f#2", "c 3", "a 3"
3100 DATA  4, "   ", "   ", "   "
3110 DATA  4, "   ", "   ", "e 4"
3120 DATA  4, "   ", "   ", "e 4"
3130 DATA  4, "f 2", "c 3", "e 4"
3140 DATA  4, "   ", "   ", "   "
3150 DATA  4, "   ", "   ", "d 4"
3160 DATA  4, "   ", "   ", "c 4"

3170 DATA  4, "e 2", "b 2", "b 3"
3180 DATA  4, "   ", "   ", "c 4"
3190 DATA  4, "   ", "   ", "d 4"
3200 DATA  4, "   ", "   ", "   "
3210 DATA  4, "d#2", "c 3", "   "
3220 DATA  4, "   ", "   ", "   "
3230 DATA  4, "   ", "   ", "c 4"
3240 DATA  4, "   ", "   ", "b 3"

3250 DATA  4, "d 2", "a 2", "a 3"
3260 DATA  4, "   ", "   ", "b 3"
3270 DATA  4, "   ", "   ", "c 4"
3280 DATA  4, "   ", "   ", "   "
3290 DATA  4, "g 2", "p  ", "   "
3300 DATA  4, "   ", "   ", "   "
3310 DATA  4, "   ", "d#3", "b 3"
3320 DATA  4, "   ", "   ", "   "

3330 DATA  4, "c 2", "e 3", "b 3"
3340 DATA  4, "   ", "   ", "   "
3350 DATA  4, "g 2", "   ", "   "
3360 DATA  4, "   ", "   ", "   "
3370 DATA  4, "a 2", "   ", "   "
3380 DATA  4, "   ", "   ", "   "
3390 DATA  4, "b 2", "   ", "   "
3400 DATA  4, "   ", "   ", "   "

3410 DATA  4, "f#2", "c 3", "a 3"
3420 DATA  4, "   ", "   ", "   "
3430 DATA  4, "   ", "   ", "c 4"
3440 DATA  4, "   ", "   ", "c 4"
3450 DATA  4, "d#2", "b 2", "c 4"
3460 DATA  4, "   ", "   ", "   "
3470 DATA  4, "   ", "   ", "b 3"
3480 DATA  4, "   ", "   ", "a 3"

3490 DATA  4, "e 2", "b 2", "g 3"
3500 DATA  4, "   ", "   ", "a 3"
3510 DATA  4, "   ", "   ", "b 3"
3520 DATA  4, "   ", "   ", "   "
3530 DATA  4, "d#2", "b 2", "   "
3540 DATA  4, "   ", "   ", "   "
3550 DATA  4, "   ", "   ", "g 3"
3560 DATA  4, "   ", "   ", "a 3"

3570 DATA  4, "d 2", "g 2", "b 3"
3580 DATA  4, "   ", "   ", "c 4"
3590 DATA  4, "   ", "   ", "d 4"
3600 DATA  4, "   ", "   ", "   "
3610 DATA  4, "d 2", "f#2", "   "
3620 DATA  4, "   ", "   ", "   "
3630 DATA  4, "   ", "   ", "d 3"
3640 DATA  4, "   ", "   ", "   "

3650 DATA  4, "g 2", "p  ", "g 3"
3660 DATA  4, "   ", "   ", "   "
3670 DATA  4, "g 1", "   ", "   "
3680 DATA  4, "   ", "   ", "   "
3690 DATA  4, "f 2", "g#2", "b 2"
3700 DATA  4, "   ", "   ", "   "
3710 DATA  4, "  ", "   ", "   "
3720 DATA  4, "   ", "   ", "   "

3730 DATA  4, "c 2", "e 2", "p  "
3740 DATA  4, "   ", "   ", "   "
3750 DATA  4, "   ", "   ", "c 3"
3760 DATA  4, "   ", "   ", "e 3"
3770 DATA  4, "a 1", "p  ", "g 3"
3780 DATA  4, "   ", "   ", "   "
3790 DATA  4, "   ", "   ", "   "
3800 DATA  4, "   ", "   ", "c 4"

3810 DATA  4, "d 2", "   ", "g 3"
3820 DATA  4, "   ", "   ", "f 3"
3830 DATA  4, "   ", "   ", "e 3"
3840 DATA  4, "   ", "   ", "d 3"
3850 DATA  4, "g 1", "   ", "c 3"
3860 DATA  4, "   ", "   ", "   "
3870 DATA  4, "   ", "b 2", "d 3"
3880 DATA  4, "   ", "   ", "   "

3890 DATA  4, "c 2", "e 2", "p  "
3900 DATA  4, "   ", "   ", "   "
3910 DATA  4, "   ", "   ", "c 3"
3920 DATA  4, "   ", "   ", "e 3"
3930 DATA  4, "a 1", "p  ", "g 3"
3940 DATA  4, "   ", "   ", "   "
3950 DATA  4, "   ", "   ", "   "
3960 DATA  4, "   ", "   ", "c 4"

3970 DATA  4, "d 2", "   ", "g 3"
3980 DATA  4, "   ", "   ", "   "
3990 DATA  4, "g#1", "   ", "   "
4000 DATA  4, "   ", "   ", "   "
4010 DATA  4, "g 1", "   ", "   "
4020 DATA  4, "   ", "   ", "   "
4030 DATA  4, "   ", "   ", "f 3"
4040 DATA  4, "   ", "   ", "   "

4050 DATA  4, "c 2", "   ", "e 3"
4060 DATA  4, "   ", "   ", "   "
4070 DATA  4, "b 1", "   ", "g 3"
4080 DATA  4, "   ", "   ", "   "
4090 DATA  4, "a 1", "   ", "c 4"
4100 DATA  4, "   ", "   ", "   "
4110 DATA  4, "   ", "   ", "e 4"
4120 DATA  4, "   ", "   ", "   "

4130 DATA  4, "b 1", "d 2", "f 4"
4140 DATA  4, "   ", "   ", "e 4"
4150 DATA  4, "   ", "   ", "d 4"
4160 DATA  4, "   ", "   ", "c 4"
4170 DATA  4, "g#2", "e 2", "b 3"
4180 DATA  4, "   ", "   ", "   "
4190 DATA  4, "   ", "   ", "d 4"
4200 DATA  4, "   ", "   ", "   "

4210 DATA  4, "a 1", "   ", "e 4"
4220 DATA  4, "   ", "   ", "   "
4230 DATA  4, "e 2", "   ", "   "
4240 DATA  4, "   ", "   ", "   "
4250 DATA  4, "b 2", "   ", "   "
4260 DATA  4, "   ", "   ", "   "
4270 DATA  4, "a 2", "   ", "   "
4280 DATA  4, "   ", "   ", "   "

4290 DATA  4, "e 2", "g#2", "   "
4300 DATA  4, "   ", "   ", "   "
4310 DATA  4, "   ", "   ", "   "
4320 DATA  4, "   ", "   ", "   "
4330 DATA  4, "a 2", "p  ", "   "
4340 DATA  4, "   ", "   ", "p  "
4350 DATA  4, "b 2", "   ", "e 4"
4360 DATA  4, "   ", "   ", "   "

4370 DATA  4, "f 2", "c 3", "e 4"
4380 DATA  4, "   ", "   ", "   "
4390 DATA  4, "   ", "   ", "f 3"
4400 DATA  4, "   ", "   ", "   "
4410 DATA  4, "   ", "   ", "a 3"
4420 DATA  4, "   ", "   ", "   "
4430 DATA  4, "e 2", "   ", "c 4"
4440 DATA  4, "   ", "   ", "   "

4450 DATA  4, "d 2", "f 2", "e 4"
4460 DATA  4, "   ", "   ", "d 4"
4470 DATA  4, "   ", "   ", "c 4"
4480 DATA  4, "   ", "   ", "b 3"
4490 DATA  4, "g 2", "p  ", "a 3"
4500 DATA  4, "   ", "   ", "   "
4510 DATA  4, "   ", "   ", "b 3"
4520 DATA  4, "   ", "   ", "   "

4530 DATA  4, "p  ", "   ", "c 4"
4540 DATA  4, "   ", "   ", "   "
4550 DATA  4, "a#2", "   ", "   "
4560 DATA  4, "   ", "   ", "   "
4570 DATA  4, "g#2", "   ", "   "
4580 DATA  4, "   ", "   ", "   "
4590 DATA  4, "f 2", "   ", "   "
4600 DATA  4, "   ", "   ", "   "

4610 DATA  4, "c 2", "g 2", "   "
4620 DATA  4, "   ", "   ", "   "
4630 DATA  4, "   ", "   ", "   "
4640 DATA  4, "   ", "   ", "   "
4650 DATA  4, "   ", "   ", "   "
4660 DATA  4, "   ", "   ", "   "
4670 DATA  4, "   ", "   ", "   "
4680 DATA  4, "   ", "   ", "   "

4690 DATA  0, "   ", "   ", "   "

